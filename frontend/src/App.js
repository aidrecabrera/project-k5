import React from "react";
import { Line } from "react-chartjs-2";
import { Chart, Title, Tooltip, Legend } from "chart.js/auto";
// Register the necessary Chart.js components
Chart.register(Title, Tooltip, Legend);

function PopulationChart() {
  // Your population data
  const populationData = [
    {
      ph_population: [
        {
          1850: 3616131,
        },
        {
          1851: 3668487,
        },
        {
          1852: 3722665,
        },
        {
          1853: 3778702,
        },
        {
          1854: 3835568,
        },
        {
          1855: 3893276,
        },
        {
          1856: 3951836,
        },
        {
          1857: 4011262,
        },
        {
          1858: 4071566,
        },
        {
          1859: 4132760,
        },
        {
          1860: 4194858,
        },
        {
          1861: 4257873,
        },
        {
          1862: 4321817,
        },
        {
          1863: 4386704,
        },
        {
          1864: 4452548,
        },
        {
          1865: 4519363,
        },
        {
          1866: 4587161,
        },
        {
          1867: 4655959,
        },
        {
          1868: 4725769,
        },
        {
          1869: 4796453,
        },
        {
          1870: 4868021,
        },
        {
          1871: 4940483,
        },
        {
          1872: 5013851,
        },
        {
          1873: 5088134,
        },
        {
          1874: 5163498,
        },
        {
          1875: 5239955,
        },
        {
          1876: 5317524,
        },
        {
          1877: 5396217,
        },
        {
          1878: 5476053,
        },
        {
          1879: 5546929,
        },
        {
          1880: 5608674,
        },
        {
          1881: 5661114,
        },
        {
          1882: 5704072,
        },
        {
          1883: 5737368,
        },
        {
          1884: 5770833,
        },
        {
          1885: 5804469,
        },
        {
          1886: 5838276,
        },
        {
          1887: 5872254,
        },
        {
          1888: 5906404,
        },
        {
          1889: 5946075,
        },
        {
          1890: 5991341,
        },
        {
          1891: 6042278,
        },
        {
          1892: 6098964,
        },
        {
          1893: 6161476,
        },
        {
          1894: 6224600,
        },
        {
          1895: 6288344,
        },
        {
          1896: 6352711,
        },
        {
          1897: 6417709,
        },
        {
          1898: 6483342,
        },
        {
          1899: 6558701,
        },
        {
          1900: 6644021,
        },
        {
          1901: 6739540,
        },
        {
          1902: 6845501,
        },
        {
          1903: 6962152,
        },
        {
          1904: 7080757,
        },
        {
          1905: 7201350,
        },
        {
          1906: 7323962,
        },
        {
          1907: 7448627,
        },
        {
          1908: 7575378,
        },
        {
          1909: 7704315,
        },
        {
          1910: 7835476,
        },
        {
          1911: 7968898,
        },
        {
          1912: 8104619,
        },
        {
          1913: 8242677,
        },
        {
          1914: 8383046,
        },
        {
          1915: 8525764,
        },
        {
          1916: 8670870,
        },
        {
          1917: 8818401,
        },
        {
          1918: 8988378,
        },
        {
          1919: 9164729,
        },
        {
          1920: 9347641,
        },
        {
          1921: 9537309,
        },
        {
          1922: 9733929,
        },
        {
          1923: 9937705,
        },
        {
          1924: 10145747,
        },
        {
          1925: 10358144,
        },
        {
          1926: 10574987,
        },
        {
          1927: 10796370,
        },
        {
          1928: 11022388,
        },
        {
          1929: 11258196,
        },
        {
          1930: 11504117,
        },
        {
          1931: 11760482,
        },
        {
          1932: 12027632,
        },
        {
          1933: 12305918,
        },
        {
          1934: 12590643,
        },
        {
          1935: 12881956,
        },
        {
          1936: 13180009,
        },
        {
          1937: 13484959,
        },
        {
          1938: 13796964,
        },
        {
          1939: 14120183,
        },
        {
          1940: 14454975,
        },
        {
          1941: 14801707,
        },
        {
          1942: 15160759,
        },
        {
          1943: 15532521,
        },
        {
          1944: 15913398,
        },
        {
          1945: 16303615,
        },
        {
          1946: 16703401,
        },
        {
          1947: 17112990,
        },
        {
          1948: 17532623,
        },
        {
          1949: 17984434,
        },
        {
          1950: 18469880,
        },
        {
          1951: 19301122,
        },
        {
          1952: 20167868,
        },
        {
          1953: 21073750,
        },
        {
          1954: 22025360,
        },
        {
          1955: 23027910,
        },
        {
          1956: 24079346,
        },
        {
          1957: 25175940,
        },
        {
          1958: 26302696,
        },
        {
          1959: 27460374,
        },
        {
          1960: 28486868,
        },
        {
          1961: 29342412,
        },
        {
          1962: 30185988,
        },
        {
          1963: 31043710,
        },
        {
          1964: 31916622,
        },
        {
          1965: 32805534,
        },
        {
          1966: 33704756,
        },
        {
          1967: 34616856,
        },
        {
          1968: 35544976,
        },
        {
          1969: 36477168,
        },
        {
          1970: 37435588,
        },
        {
          1971: 38421740,
        },
        {
          1972: 39412484,
        },
        {
          1973: 40406232,
        },
        {
          1974: 41388328,
        },
        {
          1975: 42394428,
        },
        {
          1976: 43474372,
        },
        {
          1977: 44646516,
        },
        {
          1978: 45890740,
        },
        {
          1979: 47154240,
        },
        {
          1980: 48419544,
        },
        {
          1981: 49679328,
        },
        {
          1982: 50938528,
        },
        {
          1983: 52219692,
        },
        {
          1984: 53514960,
        },
        {
          1985: 54812656,
        },
        {
          1986: 56109844,
        },
        {
          1987: 57415180,
        },
        {
          1988: 58755920,
        },
        {
          1989: 60127352,
        },
        {
          1990: 61558900,
        },
        {
          1991: 63039752,
        },
        {
          1992: 64543524,
        },
        {
          1993: 66083324,
        },
        {
          1994: 67650288,
        },
        {
          1995: 69250472,
        },
        {
          1996: 70944968,
        },
        {
          1997: 72718832,
        },
        {
          1998: 74491928,
        },
        {
          1999: 76249064,
        },
        {
          2000: 77958224,
        },
        {
          2001: 79626088,
        },
        {
          2002: 81285576,
        },
        {
          2003: 82942840,
        },
        {
          2004: 84607504,
        },
        {
          2005: 86261248,
        },
        {
          2006: 87901832,
        },
        {
          2007: 89561376,
        },
        {
          2008: 91252328,
        },
        {
          2009: 92946952,
        },
        {
          2010: 94636704,
        },
        {
          2011: 96337912,
        },
        {
          2012: 98032320,
        },
        {
          2013: 99700112,
        },
        {
          2014: 101325208,
        },
        {
          2015: 103031360,
        },
        {
          2016: 104875272,
        },
        {
          2017: 106738496,
        },
        {
          2018: 108568832,
        },
        {
          2019: 110380800,
        },
        {
          2020: 112190984,
        },
        {
          2021: 113880336,
        },
      ],
    },
  ];

  // Extract the years and populations from the data
  const years = populationData[0].ph_population.map((item) =>
    parseInt(Object.keys(item)[0])
  );
  const populations = populationData[0].ph_population.map(
    (item) => Object.values(item)[0]
  );

  // Define the chart data and options
  const data = {
    labels: years,
    datasets: [
      {
        label: "Population",
        data: populations,
        borderColor: "rgb(0, 7, 33, 132)",
        backgroundColor: "rgba(0, 7, 33, 1)",
        fill: true,
        pointRadius: 1,
      },
    ],
  };

  const options = {
    responsive: true,
    plugins: {
      title: {
        display: true,
        text: "Philippine Population Over Time",
      },
    },
    scales: {
      x: {
        title: {
          display: true,
          text: "Year",
        },
      },
      y: {
        title: {
          display: true,
          text: "Population",
        },
      },
    },
  };

  return (
    <div className="population-chart">
      <Line data={data} options={options} />
      <cart />
    </div>
  );
}

export default PopulationChart;
